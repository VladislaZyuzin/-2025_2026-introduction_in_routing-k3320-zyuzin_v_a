name: lab2

topology:
    kinds:
        vr-mikrotik_ros:
            image: vrnetlab/mikrotik_routeros:6.47.9
        linux:
            image: alpine:latest
    nodes:
        R01_Moscow:
            kind: vr-mikrotik_ros
            mgmt-ipv4: 192.168.50.10
            startup-config: ./configs/r1.rsc
        R02_Berlin:
            kind: vr-mikrotik_ros
            mgmt-ipv4: 192.168.50.20
            startup-config: ./configs/r2.rsc
        R03_Frankfurt:
            kind: vr-mikrotik_ros
            mgmt-ipv4: 192.168.50.30
            startup-config: ./configs/r3.rsc
        PC1:
            kind: linux
            binds:
              - ./configs:/configs
        PC2:
            kind: linux
            binds:
              - ./configs:/configs
        PC3:
            kind: linux
            binds:
              - ./configs:/configs
    links:
        - endpoints: ["R01_Moscow:eth2", "R02_Berlin:eth2"]
        - endpoints: ["R01_Moscow:eth3", "R03_Frankfurt:eth3"]
        - endpoints: ["R01_Moscow:eth4", "PC1:eth2"]
        - endpoints: ["R02_Berlin:eth3", "R03_Frankfurt:eth2"]
        - endpoints: ["R02_Berlin:eth4", "PC2:eth2"]
        - endpoints: ["R03_Frankfurt:eth4", "PC3:eth2"]

mgmt:
    network: mgmt-net
    ipv4-subnet: 192.168.50.0/24
